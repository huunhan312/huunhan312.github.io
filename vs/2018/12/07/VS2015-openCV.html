<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">

<!-- Begin Jekyll SEO tag v2.5.0 -->
<title>Visual Studio 2015 and opencv 3.3.1 | Do programmers have life?</title>
<meta name="generator" content="Jekyll v3.8.5" />
<meta property="og:title" content="Visual Studio 2015 and opencv 3.3.1" />
<meta name="author" content="nhannh" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="In this post I will note a way to use opencv in Visual studio 2015. opencv is an power tool to deal with image, video." />
<meta property="og:description" content="In this post I will note a way to use opencv in Visual studio 2015. opencv is an power tool to deal with image, video." />
<meta property="og:site_name" content="Do programmers have life?" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2018-12-07T00:00:00+09:00" />
<script type="application/ld+json">
{"url":"/vs/2018/12/07/VS2015-openCV.html","headline":"Visual Studio 2015 and opencv 3.3.1","dateModified":"2018-12-07T00:00:00+09:00","datePublished":"2018-12-07T00:00:00+09:00","description":"In this post I will note a way to use opencv in Visual studio 2015. opencv is an power tool to deal with image, video.","publisher":{"@type":"Organization","logo":{"@type":"ImageObject","url":"/assets/img/jeju2016.PNG"},"name":"nhannh"},"mainEntityOfPage":{"@type":"WebPage","@id":"/vs/2018/12/07/VS2015-openCV.html"},"author":{"@type":"Person","name":"nhannh"},"@type":"BlogPosting","@context":"http://schema.org"}</script>
<!-- End Jekyll SEO tag -->

    <link rel="stylesheet" href="/assets/css/style.css?v=">
    <!--[if lt IE 9]>
    <script src="//cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7.3/html5shiv.min.js"></script>
    <![endif]-->
  </head>
  <body>
    <div class="wrapper">
		<div class="header">
      <header>
        <!-- <h1><a href="/">Do programmers have life?</a></h1> -->
        
		<!-- Logo and description -->
        
          <img src="/assets/img/jeju2016.PNG" alt="Logo" />
        

        <p></p>
		
		<!-- Github link default -->
		
        	
		
        
		
		<!-- My menu -->	
		
		<nav>
  <!--
    <a href="/" >Home</a>	
  
    <a href="/notes/cmake.html" >Cmake</a>	
  
    <a href="/notes/vs.html" >Visual Studio</a>	
  
    <a href="/notes/dip.html" >Image processing</a>	
  
    <a href="/notes/code.html" >Programming notes</a>	
  
    <a href="/notes/nn.html" >Neural Network</a>	
  
    <a href="/basic_markdown.html" >Basic Markdown</a>	
  
   -->
  
        <p class="view"><a href="/" >Home</a></p>
   
        <p class="view"><a href="/notes/cmake.html" >Cmake</a></p>
   
        <p class="view"><a href="/notes/vs.html" >Visual Studio</a></p>
   
        <p class="view"><a href="/notes/dip.html" >Image processing</a></p>
   
        <p class="view"><a href="/notes/code.html" >Programming notes</a></p>
   
        <p class="view"><a href="/notes/nn.html" >Neural Network</a></p>
   
        <p class="view"><a href="/basic_markdown.html" >Basic Markdown</a></p>
   
   

</nav>
		
		<!--
		
        <p class="view"><a href="/">About</a></p>
        
		
		
        <p class="view"><a href="" >Blog</a></p>
        
		-->
		<!-- Download link -->
        
		
		<!-- Theme info -->
		<p><small>Theme by <a href="https://github.com/orderedlist">orderedlist</a></small></p>
      </header>
	  
	  
      <section>	  

		<h1>Visual Studio 2015 and opencv 3.3.1</h1>
<small>7 December 2018</small>
<hr>

<!--
<p class="view">by nhannh</p>
-->

<p>In this post I will note a way to use opencv in Visual studio 2015. opencv is an power tool to deal with image, video.</p>

<h2 id="download-opencv-331">Download opencv 3.3.1</h2>

<p>OpenCV is an useful, well-known library to programmer/student, who are interested in image processing. It is open, free and very easy to use on both Windows or Linux environment.</p>

<p>You guys can download the source code and build library to fit with your hardware or simply download an available pre-built package. In this post, I download a version of opencv from <a href="https://sourceforge.net/projects/opencvlibrary/files/opencv-win/">sourceforge</a>, then use it directly as a library in my VSC++ program.</p>

<p>This post implement with Visual Studio 2015 and opencv 3.3.1.</p>

<h2 id="create-c-solution-and-project">Create C++ solution and project</h2>

<p>Create an empty c++ project as following figure.</p>

<table>
  <thead>
    <tr>
      <th style="text-align: center"><img src="/assets/vs-000-vs2015opencv331/vs-createProj.png" alt="create project" title="Create an empty project" /></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: center"><em>Create an empty project</em></td>
    </tr>
  </tbody>
</table>

<h2 id="add-opencv-library-into-the-project">Add OpenCV library into the project</h2>

<p>There are two methods to add libraries to VS project.</p>

<p>The first method copy directly library files to VS projectâ€™s location. If you copy the project to another PC, you do not need to set up again. However, it will occupy space if you have many such projects.</p>

<p>The second method is to put library at some place, then referring your project to that library. The project may be not working if you change library or project location.</p>

<h3 id="method-1-add-opencv-directly-in-vs-project">Method 1: Add OpenCV directly in VS Project</h3>

<p>After extracting OpenCV library to some place, you can copy only several necessary folders below into your VS project.</p>

<p>For example, I copy opencv331 to VS project and keep folders as follows. Note that, depending on your OpenCV version, VS version and platform, it maybe x32 or vc12, blah.</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>opencv331
|
+----- include
|
+----- x64
        |
        +----- vc14
                |
                +----- bin
                |
                +----- lib
</code></pre></div></div>

<h3 id="method-2-add-opencv-via-environment-variable-or-direct-path">Method 2: Add OpenCV via environment variable or direct path</h3>

<p>Lets test an example code to read and display frame from video using OpenCV</p>

<div class="language-c highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="cp">#include &lt;opencv2/core/core.hpp&gt;
#include &lt;opencv2/highgui/highgui.hpp&gt;
#include &lt;iostream&gt;
</span>
<span class="n">using</span> <span class="n">namespace</span> <span class="n">cv</span><span class="p">;</span>
<span class="n">using</span> <span class="n">namespace</span> <span class="n">std</span><span class="p">;</span>

<span class="kt">int</span> <span class="nf">main</span><span class="p">(</span> <span class="kt">int</span> <span class="n">argc</span><span class="p">,</span> <span class="kt">char</span><span class="o">**</span> <span class="n">argv</span> <span class="p">)</span>
<span class="p">{</span>
    <span class="k">if</span><span class="p">(</span> <span class="n">argc</span> <span class="o">!=</span> <span class="mi">2</span><span class="p">)</span>
    <span class="p">{</span>
     <span class="n">cout</span> <span class="o">&lt;&lt;</span><span class="s">" Usage: display_image ImageToLoadAndDisplay"</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
     <span class="k">return</span> <span class="o">-</span><span class="mi">1</span><span class="p">;</span>
    <span class="p">}</span>

    <span class="n">Mat</span> <span class="n">image</span><span class="p">;</span>
    <span class="n">image</span> <span class="o">=</span> <span class="n">imread</span><span class="p">(</span><span class="n">argv</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">CV_LOAD_IMAGE_COLOR</span><span class="p">);</span>   <span class="c1">// Read the file</span>

    <span class="k">if</span><span class="p">(</span><span class="o">!</span> <span class="n">image</span><span class="p">.</span><span class="n">data</span> <span class="p">)</span>                              <span class="c1">// Check for invalid input</span>
    <span class="p">{</span>
        <span class="n">cout</span> <span class="o">&lt;&lt;</span>  <span class="s">"Could not open or find the image"</span> <span class="o">&lt;&lt;</span> <span class="n">std</span><span class="o">::</span><span class="n">endl</span> <span class="p">;</span>
        <span class="k">return</span> <span class="o">-</span><span class="mi">1</span><span class="p">;</span>
    <span class="p">}</span>

    <span class="n">namedWindow</span><span class="p">(</span> <span class="s">"Display window"</span><span class="p">,</span> <span class="n">WINDOW_AUTOSIZE</span> <span class="p">);</span><span class="c1">// Create a window for display.</span>
    <span class="n">imshow</span><span class="p">(</span> <span class="s">"Display window"</span><span class="p">,</span> <span class="n">image</span> <span class="p">);</span>                   <span class="c1">// Show our image inside it.</span>

    <span class="n">waitKey</span><span class="p">(</span><span class="mi">0</span><span class="p">);</span>                                          <span class="c1">// Wait for a keystroke in the window</span>
    <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div></div>



<!--

  <small>tags: <em>vs</em></small>

-->
<hr>
<p>This blog stores notes as personal purpose. Please leave issue in my github if you want to have further discussion.</p>

      </section>
	  
	  <sidebar>
	     <!-- 

  <!-- <h3>vs</h3> 
  <ul>
    
      <li><a href="/vs/2018/12/07/VS2015-openCV.html" class="current">Visual Studio 2015 and opencv 3.3.1</a></li>
    
  </ul>

-->
<!--

	<hr>
    
      <li><a href="/vs/2018/12/07/VS2015-openCV.html" class="current">Visual Studio 2015 and opencv 3.3.1</a></li>
    

<hr>
-->
<i>Recent posts</i>
<br />

   <a href="/vs/2018/12/07/VS2015-openCV.html" class="current">Visual Studio 2015 and opencv 3.3.1</a><br />


	  </sidebar>
	  
      <footer>
        
       
      </footer>
    </div>
    <script src="/assets/js/scale.fix.js"></script>
    
  </body>
</html>
